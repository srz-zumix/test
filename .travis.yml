language: cpp

compiler:
  - clang
  - gcc

before_install:
  - sudo apt-get -qq update

script:
  - make clean
  - make

env:
  global:
    # COVERITY_SCAN_TOKEN
    - secure: "fLbe9HZULOVprBTkz49A8MILgPGUYpVOvBia6r8PJuw21wACrMqmNqYaqm4YFYXk+xTQp4ghfsCxNbP3ToSLy5ugfYxvmZN/VqgJ7NmbSgfp0RgE4NIWJ/8mjUwQMaAn6cjvLoJkjksN5t14l4Bhg0tahyC8x9gErqhlvGto4+Q="

matrix:
  include:
    - compiler: gcc
      env: COVERITY_SCAN=1
      addons:
        coverity_scan:
          project:
            name: "srz-zumix/test"
            description: "coverity test"
          notification_email: zumix.cpp@gmail.com
          build_command_prepend: "make clean"
          build_command: make
          branch_pattern: coverity_scan

